{{- $cssFiles := slice 
  "css/colors.css" 
  "css/base.css" 
  "css/header.css"
  "css/github-dark.min.css"
}}

{{ if .IsHome }}
  {{- $cssFiles = $cssFiles | append "css/home.css" }}
{{ end }}

{{ if eq .Kind "page" }}
  {{- $cssFiles = $cssFiles | append "css/page.css" }}
{{ end }}


{{- range $css := $cssFiles }}
  {{- with resources.Get $css }}
    {{- if eq hugo.Environment "development" }}
      <link rel="stylesheet" href="{{ .RelPermalink }}">
    {{- else }}
      {{- with . | minify | fingerprint }}
        <link rel="stylesheet" href="{{ .RelPermalink }}" integrity="{{ .Data.Integrity }}" crossorigin="anonymous">
      {{- end }}
    {{- end }}
  {{- end }}
{{- end }}
