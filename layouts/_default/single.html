{{ define "main" }}
  <h1 class="post-title">{{ .Title }}</h1>

  {{ $dateMachine := .Date | time.Format "2006-01-02T15:04:05-07:00" }}
  {{ $dateHuman := .Date | time.Format ":date_long" }}
  <time datetime="{{ $dateMachine }}">{{ $dateHuman }}</time>

  {{ $tags := .GetTerms "tags"}}
  {{ if $tags }}
    <div class="tagicons">
      {{ range $tags}}

        {{ $url := printf "svg/tags/%s.svg" (lower .LinkTitle) }}
        {{ $projectPath := path.Join "static" $url }}
        {{ $themePath := path.Join "themes/TechnicalHugoTheme/static" $url}}
        
        {{ if or (fileExists $projectPath) (fileExists $themePath) }}
          <a href="{{ .RelPermalink }}"><img src="/svg/tags/{{lower .LinkTitle | urlquery}}.svg"></a>
        {{ end }}
      {{ end }}
    </div>
  {{ end }}

  {{ if .TableOfContents}}
  <div class="toc card collapsed">
    <a href="#" class="toc-title" onclick="this.parentElement.classList.toggle('collapsed');">
      <span class="toc-triangle-collapsed">▶</span><span class="toc-triangle-expanded">▼</span> Table of Contents
    </a>
    {{ .TableOfContents }}
  </div>
  {{ end }}

  {{ .Content }}

{{ end }}

{{ define "sidebar" }}
  {{ .Scratch.Set "hasSidebar" true }}
  {{ .TableOfContents }}
{{ end }}